---
title: 'Vite打包工具中的esbuild'
description: HerryLo, 微信公众号： Yopai
date: 2021-06-18 18:00
tags: vite，esbuild
---

# Vite打包工具中的esbuild

    
> Vite 将会使用 esbuild 预构建依赖。Esbuild 使用 Go 编写，并且比以 JavaScript编写的打包器预构建依赖快 10-100 倍。

> 一套构建指令，它使用 Rollup 打包你的代码，并且它是预配置的，可输出用于生产环境的高度优化过的静态资源

esbuild用于开发环境下打包，而Rollup用于前端生产环境打包。[esbuild](https://esbuild.github.io/)是使用 Go编写，通过二方包的形式作为[vite](https://cn.vitejs.dev/guide/why.html)的依赖。

![](/image/benchmark.svg)
> 上图：使用默认设置（包括缩小和源映射）从头开始制作包含 10 个three.js库副本的生产包的时间。更多信息在这里。

不在生产环境使用[esbuild](https://esbuild.github.io/)来进行前端代码打包的具体原因，在[vite](https://cn.vitejs.dev/guide/why.html)文档已经有说明了。

> 虽然 esbuild 快得惊人，并且已经是一个在构建库方面比较出色的工具，但一些针对构建 应用 的重要功能仍然还在持续开发中 —— 特别是代码分割和 CSS 处理方面。就目前来说，Rollup 在应用打包方面更加成熟和灵活。尽管如此，当未来这些功能稳定后，我们也不排除使用 esbuild 作为生产构建器的可能。

## esbuild打包

上面只是前置部分，要开始具体的内容了，下面我们来说一说esbuild如何来进行打包。