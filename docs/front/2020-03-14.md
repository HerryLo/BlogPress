---
title: æ•°æ®ç»“æ„-æ ˆçš„åº”ç”¨å’Œå®ç°
date: 2020-03-14 13:30
tags: 
    - æ ˆ
    - æ•°æ®ç»“æ„
---

# æ•°æ®ç»“æ„-æ ˆçš„åº”ç”¨å’Œå®ç°

[æœ¬æ–‡åŸæ–‡é“¾æ¥](https://github.com/AttemptWeb/Record/issues/24)

æ ˆæ˜¯çº¿æ€§ç»“æ„çš„å¸¸è§åº”ç”¨ï¼Œæ˜¯ä¸€ç§å¯ä»¥å®ç°"å…ˆè¿›åå‡º"çš„å­˜å‚¨ç»“æ„ï¼ŒğŸŒ°ï¼šè®©æˆ‘ä»¬æƒ³ä¸€ä¸‹ç®±å­ğŸ“¦ï¼Œå¾€ğŸ“¦é‡Œé¢æ”¾ä¸œè¥¿ï¼Œæœ€å…ˆæ”¾å…¥ğŸ“¦ä¸­çš„ä¸œè¥¿è¢«æ”¾åœ¨åº•éƒ¨ï¼Œåæ”¾å…¥çš„åè€Œåœ¨ä¸Šé¢ï¼Œå‡è®¾æˆ‘ä»¬ä»ä¸Šè‡³ä¸‹çš„æ‹¿ä¸œè¥¿ï¼Œé‚£ä¹ˆå°±æ˜¯å…ˆæ”¾å…¥çš„åå‡ºï¼Œåæ”¾å…¥çš„å…ˆå‡ºï¼Œå³è¿™å°±æ˜¯ä¸€ä¸ª"å…ˆå…¥åå‡º"çš„å­˜å‚¨ç»“æ„ã€‚

æ ˆçš„åº”ç”¨éå¸¸çš„å¹¿æ³›ï¼š**å‡½æ•°è°ƒç”¨ã€ä¸­æ–­ã€è¡¨è¾¾å¼æ±‚å€¼ã€å†…å­˜åˆ†é…ã€ç¼“å­˜ã€è¿·å®«**éƒ½æœ‰åº”ç”¨æ ˆçš„çŸ¥è¯†ã€‚

æ ˆå’Œé˜Ÿåˆ—å®ç°è™½ç„¶ä¸åŒï¼Œä½†éƒ½å¯ä»¥é€šè¿‡æ•°ç»„å’Œé“¾è¡¨å®ç°ï¼Œæ ˆåˆ†ä¸ºé™æ€æ ˆå’ŒåŠ¨æ€æ ˆï¼Œé™æ€æ ˆæœ‰æ•°ç»„æ„æˆï¼ŒåŠ¨æ€æ ˆæœ‰é“¾è¡¨æ„æˆã€‚

å…¶ä¸­çš„æ ¸å¿ƒæ“ä½œå°±æ˜¯ï¼šå‹æ ˆå’Œå‡ºæ ˆã€‚å‹æ ˆå°±æ˜¯æ”¾å…¥æ ˆä¸­ï¼Œå‡ºæ ˆå°±æ˜¯æ‹¿å‡ºæ ˆä¸­ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹æ ˆçš„åŸºæœ¬ç»“æ„ï¼š
```c
  æ ˆé¡¶Top                       æ ˆåº•Bottom
    ğŸ‘‡                             ğŸ‘‡
[data|next]â€”â€”>[data|next]â€”â€”>[data=NULL|next]â€”â€”> NULL
```
ç¡®è®¤ä¸€ä¸ªæ ˆåªéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œæ ˆé¡¶Topå’Œæ ˆåº•Bottomï¼Œåˆå§‹åˆ›å»ºæ—¶ï¼Œæ ˆé¡¶Topç­‰äºæ ˆåº•Bottomï¼›å‹æ ˆæ—¶ï¼Œæ ˆé¡¶Topç§»åŠ¨ï¼›å‡ºæ ˆæ—¶ï¼Œè¿˜æ˜¯æ ˆé¡¶Topç§»åŠ¨ã€‚

## Cè¯­è¨€æ ˆå®ç°

é¦–å…ˆæˆ‘ä»¬å…ˆæ¥åšå¥½åˆå§‹åŒ–çš„å‡†å¤‡ï¼š

```c
// é“¾è¡¨å…ƒç´ ç»“æ„ä½“
typedef struct Node {
    int data;
    struct Node * next;
}Node, *pNode;

// æ ˆçš„å‚æ•°
typedef struct Stack {
    pNode pTop;         // æ ˆé¡¶
    pNode pBottom;      // æ ˆåº•
}Stack, *pStack;

// åˆå§‹åŒ–
void initStack(pStack s);
// å‹æ ˆ
void pushStack(pStack s, int value);
// éå†
void traverseStack(pStack s);
// å‡ºæ ˆ
bool popStack(pStack s);
```
ä»¥ä¸Šå°±æ˜¯æ ˆçš„åŸºæœ¬æ“ä½œï¼Œä¸‹é¢æ˜¯å‡½æ•°çš„å®ç°
```c
// åˆå§‹åŒ–
void initStack(pStack s) {
    s->pTop = (pNode)malloc(sizeof(Node));
    if(s->pTop == NULL) {
        printf("å†…å­˜åˆ†é…å¤±è´¥");
        exit(-1);
    }
    s->pBottom = s->pTop;
    s->pTop->next = NULL;
}
// å‹æ ˆ
void pushStack(pStack s, int value){
    pNode pNew = (pNode)malloc(sizeof(Node));
    if(pNew == NULL) {
        printf("å†…å­˜åˆ†é…å¤±è´¥");
        exit(-1);
    }
    s->pTop = pNew;
    pNew->data = value;
    pNew->next = s->pBottom;
}
// éå†
void traverseStack(pStack s){
    pNode top = s->pTop;
    while(top->next != NULL){
        peintf("%d\n", top->data);
        top = top->next;
    }
}
// å‡ºæ ˆ
bool popStack(pStack s){
    pNode node = s->pTop;
    if(node->next != NULL){
        return false;s
    }
    s->pTop = s->pTop->next;
    free(node);
    retrun false;
}
```
mainå‡½æ•°ä¸­åˆ›å»ºè°ƒç”¨æ ˆï¼š
```c
int main() {
    // åˆ›å»ºæ ˆ
    Stack s;
    
    initStack(&s);
    pushStack(&s, 1);
    pushStack(&s, 2);
    pushStack(&s, 3);
    pushStack(&s, 4);
    traverseStack(&s);
    popStack(&s);
    traverseStack(&s);
    
    return 0;
}
```
[ä»£ç ç¤ºä¾‹ï¼šCè¯­è¨€åˆ›å»ºæ ˆ](https://github.com/HerryLo/CStruct/blob/master/stack/main.c)

å‚è€ƒï¼š

[éƒæ–Œè€å¸ˆæ•°æ®ç»“æ„è§†é¢‘](https://www.bilibili.com/video/av12907870?p=14)

**ps**: å¾®ä¿¡å…¬ä¼—å·ï¼šYopaiï¼Œæœ‰å…´è¶£çš„å¯ä»¥å…³æ³¨ï¼Œæ¯å‘¨ä¸å®šæœŸæ›´æ–°ã€‚ä¸æ–­åˆ†äº«ï¼Œä¸æ–­è¿›æ­¥

![](/webChat1.png)

